#!/bin/bash

# Input args:
JOB_ID="$1"

if [ -z "${JOB_ID}" ]; then
  echo "ERROR: no job id given"
  exit 1
fi

set -eu

JOB_STATUS=$(sacct --format=State --noheader -XP -j "${JOB_ID}" | cut -d' ' -f4)

if [ -z "${JOB_STATUS}" ]; then
  echo "ERROR: job ID $JOB_ID not found"
  exit 1
else
  echo "$JOB_STATUS"
fi
